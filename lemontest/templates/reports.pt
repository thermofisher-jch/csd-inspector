<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="layout">

<tal:block metal:fill-slot="extra_head">
    <style type="text/css">
    tr td:nth-child(3), tr td:nth-child(4) {
        white-space: nowrap;
    }
    #reports td {
        padding: 12px 8px;
    }
    </style>
</tal:block>

<tal:block metal:fill-slot="main">
    <div>
        <div class="pagination pagination-centered">
            <ul>
                <li tal:attributes="class 'disabled' if archives.page == 1 else None">
                    <a tal:condition="archives.page > 1" href="${request.route_url('reports', _query={'page':archives.page-1})}">&laquo;</a>
                    <span tal:condition="archives.page == 1">&laquo;</span>
                </li>
                <li tal:repeat="page pages" tal:attributes="class 'active' if page == archives.page else 'disabled' if page == '..' else None">
                    <a tal:condition="page != archives.page and page != '..'" href="${request.route_url('reports', _query={'page':page})}">${page}</a>
                    <span tal:condition="page == '..' or page == archives.page">${page}</span>
                </li>
                <li tal:attributes="class 'disabled' if archives.page == archives.page_count else None">
                    <a tal:condition="archives.page < archives.page_count" href="${request.route_url('reports', _query={'page':archives.page+1})}">&raquo;</a>
                    <span tal:condition="archives.page == archives.page_count">&raquo;</span>
                </li>
            </ul>
        </div>
        <table class="table table-striped" id="reports">
            <thead>
                <tr>
                    <th>ID</th><th>Submitter</th><th>Date</th><th>Type</th><th>Site</th><th>Label</th>
                </tr>
            </thead>
            <tbody>
                <tr tal:repeat="archive archives" onclick="window.location='${request.route_url('check', archive_id=archive.id)}';" style="cursor: pointer;">
                    <td>${archive.id}</td>
                    <td>${archive.submitter_name}</td>
                    <td>${h.prettydate(archive.time)}</td>
                    <td>${archive.archive_type.replace("_", " ")}</td>
                    <td>${archive.site}</td>
                    <td>${archive.label}</td>
                </tr>
            </tbody>
        </table>
    </div>
</tal:block>

</html>
