<!DOCTYPE html>
<html>
<head>
    <title>Filter Metrics Plots</title>
    <link rel="stylesheet" href="/static/css/bootstrap.css"/>
    <style type="text/css">
        .plot {
            width: 100%;
            max-width: 600px;
        }

        img {
            display: block;
            margin: 0 auto;
        }

        .header {
            padding-bottom: 9px;
            margin: 40px 0 20px;
            border-bottom: 1px solid #eee;
        }

        table {
            max-width: 500px;
        }
    </style>
</head>
<body>
<div class="container-fluid">
    <h2 class="text-center">Filter Metrics Plots</h2>
    <h3 class="header">Primary Well Categorization</h3>
    <div class="row-fluid">
        <div class="span6">
            <img class="plot" src="primary.png"/>
        </div>
        <div class="span6">
            <table class="table table-bordered table-striped">
                <tr>
                    <th>Category</th>
                    <th>Reads</th>
                    <th>Percentage Total</th>
                </tr>
                <tr>
                    <td>Beads</td>
                    <td>{{ pwc_beads }}</td>
                    <td>{{ pwc_beads_perc|floatformat }}%</td>
                </tr>
                <tr>
                    <td>Empties</td>
                    <td>{{ pwc_empties }}</td>
                    <td>{{ pwc_empties_perc|floatformat }}%</td>
                </tr>
                <tr>
                    <td>Pinned</td>
                    <td>{{ pwc_pinned }}</td>
                    <td>{{ pwc_pinned_perc|floatformat }}%</td>
                </tr>
                <tr>
                    <td>Ignored</td>
                    <td>{{ pwc_ignored }}</td>
                    <td>{{ pwc_ignored_perc|floatformat }}%</td>
                </tr>
                <tr>
                    <td>Total</td>
                    <td colspan="2">{{ pwc_total }}</td>
                </tr>
            </table>
        </div>
    </div>
    <h3 class="header">Loaded Well Categorization</h3>
    <div class="row-fluid">
        <div class="span6">
            <img class="plot" src="loaded.png"/>
        </div>
        <div class="span6">
            <table class="table table-bordered table-striped">
                <tr>
                    <th>Category</th>
                    <th>Reads</th>
                    <th>Percentage Beads</th>
                </tr>
                <tr>
                    <td>Library</td>
                    <td>{{ loaded_library }}</td>
                    <td>{{ loaded_library_perc|floatformat }}%</td>
                </tr>
                <tr>
                    <td>TF Beads</td>
                    <td>{{ loaded_tfbead }}</td>
                    <td>{{ loaded_tfbead_perc|floatformat }}%</td>
                </tr>
                <tr>
                    <td>Duds</td>
                    <td>{{ loaded_duds }}</td>
                    <td>{{ loaded_duds_perc|floatformat }}%</td>
                </tr>
            </table>
        </div>
    </div>
    <h3 class="header">Library Well Categorization</h3>
    <div class="row-fluid">
        <div class="span6">
            <img class="plot" src="library.png"/>
        </div>
        <div class="span6">
            <table class="table table-bordered table-striped">
                <tr>
                    <th>Category</th>
                    <th>Reads</th>
                    <th>Percentage Library</th>
                </tr>
                <tr>
                    <td>Low Quality: High PPF</td>
                    <td>{{ libarary_low_quality_high_ppf }}</td>
                    <td>{{ libarary_low_quality_high_ppf_prec|floatformat }}%</td>
                </tr>
                <tr>
                    <td>Polyclonal</td>
                    <td>{{ libarary_polyclonal }}</td>
                    <td>{{ libarary_polyclonal_perc|floatformat }}%</td>
                </tr>
                <tr>
                    <td>Low Quality: Bad Key</td>
                    <td>{{ libarary_low_quality_bad_key }}</td>
                    <td>{{ libarary_low_quality_bad_key_perc|floatformat }}%</td>
                </tr>
                <tr>
                    <td>Low Quality: Short Read Key</td>
                    <td>{{ libarary_low_quality_short_read_key }}</td>
                    <td>{{ libarary_low_quality_short_read_perc|floatformat }}%</td>
                </tr>
                <tr>
                    <td>Low Quality: Failed Keypass</td>
                    <td>{{ libarary_low_quality_failed_keypass }}</td>
                    <td>{{ libarary_low_quality_failed_keypass_perc|floatformat }}%</td>
                </tr>
                <tr>
                    <td>Primer Dimer</td>
                    <td>{{ libarary_primer_dimer }}</td>
                    <td>{{ libarary_primer_dimer_perc|floatformat }}%</td>
                </tr>
                <tr>
                    <td>Low Quality: Quality Trim</td>
                    <td>{{ libarary_low_quality_quality_trim }}</td>
                    <td>{{ libarary_low_quality_quality_trim_perc|floatformat }}%</td>
                </tr>
                <tr>
                    <td>Final Library ISPs</td>
                    <td>{{ libarary_final_library_isps }}</td>
                    <td>{{ libarary_final_library_isps_perc|floatformat }}%</td>
                </tr>
                <tr>
                    <td>Quality Filter</td>
                    <td>{{ quality_filter }}</td>
                    <td>{{ quality_filter_perc|floatformat }}%</td>
                </tr>
            </table>
        </div>
    </div>
</div>
</body>
</html>