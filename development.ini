[app:main]
upload_root = ../files
test_root = lemontest/diagnostics
test_manifest = lemontest/test_manifest.json

use = egg:lemontest
mako.directories = lemontest:templates
debug_templates = true

pyramid.reload_templates = true
pyramid.debug_authorization = false
pyramid.debug_notfound = false
pyramid.debug_routematch = false
pyramid.debug_templates = true
pyramid.default_locale_name = en
pyramid.includes = pyramid_debugtoolbar
                   pyramid_tm
                   pyramid_celery
                   pyramid_beaker

sqlalchemy.url = sqlite:///%(here)s/development.db

CELERYD_NODES="lemon"
BROKER_URL = "amqp://guest:guest@localhost:5672"
CELERY_RESULT_BACKEND = "database"
CELERY_RESULT_DBURI = "sqlite:///celery_result.db"
CELERYD_CONCURRENCY = 3
CELERYD_LOG_LEVEL = INFO

# Beaker Configuration

cache.type = memory
cache.regions = default
cache.default.expire = 5

session.type = file
session.data_dir = %(here)s/../sessions_data
session.lock_dir = %(here)s/../sessions_lock
session.key = mykey
session.secret = "mysecret"
session.cookie_on_exception = true

# Apex Configuration

apex.session_secret = apex_example_session_secret
apex.auth_secret = apex_example_auth_secret
apex.came_from_route = index
apex.apex_template = lemontest:templates/auth_base.mako
apex.sender_email = noreply@inspector.itw
apex.register_form_class = lemontest.forms.LifetechEmailRegisterForm
apex.user_profile = lemontest.models.Profile
apex.use_apex_edit = true


[server:main]
use = egg:gunicorn#main
host = 0.0.0.0
port = 8081
workers = 1

[alembic]
script_location = alembic
file_template = %%(year)d-%%(month).2d-%%(day).2d_%%(hour).2d-%%(minute).2d-%%(second).2d_%%(rev)s_%%(slug)s

# Begin logging configuration
[loggers]
keys = root, lemontest, sqlalchemy, alembic

[handlers]
keys = console

[formatters]
keys = generic

[logger_root]
level = DEBUG
handlers = console

[logger_lemontest]
level = DEBUG
handlers = 
qualname = lemontest

[logger_sqlalchemy]
level = INFO
handlers =
qualname = sqlalchemy.engine
# "level = INFO" logs SQL queries.
# "level = DEBUG" logs SQL queries and results.
# "level = WARN" logs neither.  (Recommended for production systems.)

[logger_alembic]
level = INFO
handlers =
qualname = alembic

[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = generic

[formatter_generic]
format = %(asctime)s	%(levelname)-5.5s	[%(name)s][%(threadName)s]	%(message)s

# End logging configuration
